% author: Claudio Gaz, Marco Cognetti, Alexander Oliva
% date: September 3, 2019
% 
% -------------------------------------------------
% Panda Dynamic Model v. 1.0
% -------------------------------------------------
% C. Gaz, M. Cognetti, A. Oliva, P. Robuffo Giordano, A. De Luca, 'Dynamic
% Identification of the Franka Emika Panda Robot With Retrieval of Feasible
% Parameters Using Penalty-Based Optimization'. IEEE RA-L, 2019.
%
% the following code has been tested on Matlab 2018b

% get_GravityVector returns the numerical gravity vector g(q) 
% given the current joint positions

function g_li_hat = get_GravityVector(q)
%GET_GRAVITYVECTOR
%    G_LI_HAT = GET_GRAVITYVECTOR(Q)

%    This function was generated by the Symbolic Math Toolbox version 8.2.
%    21-Jan-2019 01:12:30

q1 = q(1);
q2 = q(2);
q3 = q(3);
q4 = q(4);
q5 = q(5);
q6 = q(6);
q7 = q(7);

% real kin pars
g0 = 9.80665;
a4 = 0.0825;
a5 = -0.0825;
a7 = 0.088;
d1 = 0.333;
d3 = 0.316;
d5 = 0.384;
%----------

t2 = cos(q2);
t3 = sin(q2);
t4 = cos(q3);
t5 = cos(q4);
t6 = sin(q4);
t7 = sin(q3);
t8 = cos(q5);
t9 = sin(q5);
t10 = cos(q6);
t11 = sin(q6);
t12 = cos(q7);
t13 = sin(q7);
g_li_hat = [0;g0.*t2.*5.368784261474552e-3-g0.*t3.*3.10257567176716-g0.*t2.*t4.*6.873533102775262e-1-g0.*t3.*t5.*1.718488169611198+g0.*t2.*t7.*2.337649457371796e-2+g0.*t3.*t6.*4.888360246332429e-1+g0.*t2.*t4.*t5.*4.888360246332429e-1+g0.*t2.*t4.*t6.*1.718488169611198+g0.*t2.*t7.*t8.*7.705324195893029e-2+g0.*t3.*t6.*t8.*1.00039522535591e-2-g0.*t2.*t7.*t9.*1.00039522535591e-2+g0.*t3.*t5.*t10.*6.771174144247946e-2+g0.*t3.*t6.*t9.*7.705324195893029e-2-g0.*t3.*t5.*t11.*1.656809687593008e-1+g0.*t2.*t4.*t5.*t8.*1.00039522535591e-2+g0.*t2.*t4.*t5.*t9.*7.705324195893029e-2-g0.*t2.*t4.*t6.*t10.*6.771174144247946e-2+g0.*t2.*t4.*t6.*t11.*1.656809687593008e-1-g0.*t3.*t6.*t8.*t10.*1.656809687593008e-1+g0.*t2.*t7.*t9.*t10.*1.656809687593008e-1-g0.*t3.*t6.*t8.*t11.*6.771174144247946e-2+g0.*t2.*t7.*t8.*t12.*4.883521085127657e-4+g0.*t2.*t7.*t9.*t11.*6.771174144247946e-2-g0.*t2.*t7.*t8.*t13.*6.230758965393622e-3+g0.*t3.*t6.*t9.*t12.*4.883521085127657e-4-g0.*t3.*t5.*t11.*t12.*6.230758965393622e-3-g0.*t3.*t6.*t9.*t13.*6.230758965393622e-3-g0.*t3.*t5.*t11.*t13.*4.883521085127657e-4-g0.*t2.*t4.*t5.*t8.*t10.*1.656809687593008e-1-g0.*t2.*t4.*t5.*t8.*t11.*6.771174144247946e-2+g0.*t2.*t4.*t5.*t9.*t12.*4.883521085127657e-4-g0.*t2.*t4.*t5.*t9.*t13.*6.230758965393622e-3+g0.*t2.*t4.*t6.*t11.*t12.*6.230758965393622e-3+g0.*t2.*t4.*t6.*t11.*t13.*4.883521085127657e-4-g0.*t3.*t6.*t8.*t10.*t12.*6.230758965393622e-3+g0.*t2.*t7.*t9.*t10.*t12.*6.230758965393622e-3-g0.*t3.*t6.*t8.*t10.*t13.*4.883521085127657e-4+g0.*t2.*t7.*t9.*t10.*t13.*4.883521085127657e-4-g0.*t2.*t4.*t5.*t8.*t10.*t12.*6.230758965393622e-3-g0.*t2.*t4.*t5.*t8.*t10.*t13.*4.883521085127657e-4;g0.*t3.*t4.*2.337649457371796e-2+g0.*t3.*t7.*6.873533102775262e-1+g0.*t3.*t4.*t8.*7.705324195893029e-2-g0.*t3.*t5.*t7.*4.888360246332429e-1-g0.*t3.*t4.*t9.*1.00039522535591e-2-g0.*t3.*t6.*t7.*1.718488169611198-g0.*t3.*t5.*t7.*t8.*1.00039522535591e-2-g0.*t3.*t5.*t7.*t9.*7.705324195893029e-2+g0.*t3.*t4.*t9.*t10.*1.656809687593008e-1+g0.*t3.*t6.*t7.*t10.*6.771174144247946e-2+g0.*t3.*t4.*t8.*t12.*4.883521085127657e-4+g0.*t3.*t4.*t9.*t11.*6.771174144247946e-2-g0.*t3.*t6.*t7.*t11.*1.656809687593008e-1-g0.*t3.*t4.*t8.*t13.*6.230758965393622e-3+g0.*t3.*t5.*t7.*t8.*t10.*1.656809687593008e-1+g0.*t3.*t5.*t7.*t8.*t11.*6.771174144247946e-2-g0.*t3.*t5.*t7.*t9.*t12.*4.883521085127657e-4+g0.*t3.*t5.*t7.*t9.*t13.*6.230758965393622e-3+g0.*t3.*t4.*t9.*t10.*t12.*6.230758965393622e-3+g0.*t3.*t4.*t9.*t10.*t13.*4.883521085127657e-4-g0.*t3.*t6.*t7.*t11.*t12.*6.230758965393622e-3-g0.*t3.*t6.*t7.*t11.*t13.*4.883521085127657e-4+g0.*t3.*t5.*t7.*t8.*t10.*t12.*6.230758965393622e-3+g0.*t3.*t5.*t7.*t8.*t10.*t13.*4.883521085127657e-4;g0.*t2.*t5.*(-4.888360246332429e-1)-g0.*t2.*t6.*1.718488169611198+g0.*t3.*t4.*t5.*1.718488169611198-g0.*t3.*t4.*t6.*4.888360246332429e-1-g0.*t2.*t5.*t8.*1.00039522535591e-2-g0.*t2.*t5.*t9.*7.705324195893029e-2+g0.*t2.*t6.*t10.*6.771174144247946e-2-g0.*t2.*t6.*t11.*1.656809687593008e-1-g0.*t3.*t4.*t6.*t8.*1.00039522535591e-2-g0.*t3.*t4.*t5.*t10.*6.771174144247946e-2-g0.*t3.*t4.*t6.*t9.*7.705324195893029e-2+g0.*t3.*t4.*t5.*t11.*1.656809687593008e-1+g0.*t2.*t5.*t8.*t10.*1.656809687593008e-1+g0.*t2.*t5.*t8.*t11.*6.771174144247946e-2-g0.*t2.*t5.*t9.*t12.*4.883521085127657e-4+g0.*t2.*t5.*t9.*t13.*6.230758965393622e-3-g0.*t2.*t6.*t11.*t12.*6.230758965393622e-3-g0.*t2.*t6.*t11.*t13.*4.883521085127657e-4+g0.*t3.*t4.*t6.*t8.*t10.*1.656809687593008e-1+g0.*t3.*t4.*t6.*t8.*t11.*6.771174144247946e-2-g0.*t3.*t4.*t6.*t9.*t12.*4.883521085127657e-4+g0.*t3.*t4.*t5.*t11.*t12.*6.230758965393622e-3+g0.*t3.*t4.*t6.*t9.*t13.*6.230758965393622e-3+g0.*t3.*t4.*t5.*t11.*t13.*4.883521085127657e-4+g0.*t2.*t5.*t8.*t10.*t12.*6.230758965393622e-3+g0.*t2.*t5.*t8.*t10.*t13.*4.883521085127657e-4+g0.*t3.*t4.*t6.*t8.*t10.*t12.*6.230758965393622e-3+g0.*t3.*t4.*t6.*t8.*t10.*t13.*4.883521085127657e-4;g0.*t2.*t6.*t8.*(-7.705324195893029e-2)+g0.*t2.*t6.*t9.*1.00039522535591e-2-g0.*t3.*t7.*t8.*1.00039522535591e-2-g0.*t3.*t7.*t9.*7.705324195893029e-2+g0.*t3.*t4.*t5.*t8.*7.705324195893029e-2-g0.*t3.*t4.*t5.*t9.*1.00039522535591e-2-g0.*t2.*t6.*t9.*t10.*1.656809687593008e-1-g0.*t2.*t6.*t8.*t12.*4.883521085127657e-4-g0.*t2.*t6.*t9.*t11.*6.771174144247946e-2+g0.*t3.*t7.*t8.*t10.*1.656809687593008e-1+g0.*t2.*t6.*t8.*t13.*6.230758965393622e-3+g0.*t3.*t7.*t8.*t11.*6.771174144247946e-2-g0.*t3.*t7.*t9.*t12.*4.883521085127657e-4+g0.*t3.*t7.*t9.*t13.*6.230758965393622e-3+g0.*t3.*t4.*t5.*t9.*t10.*1.656809687593008e-1+g0.*t3.*t4.*t5.*t8.*t12.*4.883521085127657e-4+g0.*t3.*t4.*t5.*t9.*t11.*6.771174144247946e-2-g0.*t3.*t4.*t5.*t8.*t13.*6.230758965393622e-3-g0.*t2.*t6.*t9.*t10.*t12.*6.230758965393622e-3-g0.*t2.*t6.*t9.*t10.*t13.*4.883521085127657e-4+g0.*t3.*t7.*t8.*t10.*t12.*6.230758965393622e-3+g0.*t3.*t7.*t8.*t10.*t13.*4.883521085127657e-4+g0.*t3.*t4.*t5.*t9.*t10.*t12.*6.230758965393622e-3+g0.*t3.*t4.*t5.*t9.*t10.*t13.*4.883521085127657e-4;g0.*t2.*t5.*t10.*1.656809687593008e-1+g0.*t2.*t5.*t11.*6.771174144247946e-2+g0.*t3.*t4.*t6.*t10.*1.656809687593008e-1+g0.*t3.*t4.*t6.*t11.*6.771174144247946e-2+g0.*t2.*t6.*t8.*t10.*6.771174144247946e-2-g0.*t2.*t6.*t8.*t11.*1.656809687593008e-1+g0.*t2.*t5.*t10.*t12.*6.230758965393622e-3+g0.*t3.*t7.*t9.*t10.*6.771174144247946e-2+g0.*t2.*t5.*t10.*t13.*4.883521085127657e-4-g0.*t3.*t7.*t9.*t11.*1.656809687593008e-1-g0.*t3.*t4.*t5.*t8.*t10.*6.771174144247946e-2+g0.*t3.*t4.*t5.*t8.*t11.*1.656809687593008e-1+g0.*t3.*t4.*t6.*t10.*t12.*6.230758965393622e-3+g0.*t3.*t4.*t6.*t10.*t13.*4.883521085127657e-4-g0.*t2.*t6.*t8.*t11.*t12.*6.230758965393622e-3-g0.*t2.*t6.*t8.*t11.*t13.*4.883521085127657e-4-g0.*t3.*t7.*t9.*t11.*t12.*6.230758965393622e-3-g0.*t3.*t7.*t9.*t11.*t13.*4.883521085127657e-4+g0.*t3.*t4.*t5.*t8.*t11.*t12.*6.230758965393622e-3+g0.*t3.*t4.*t5.*t8.*t11.*t13.*4.883521085127657e-4;g0.*t2.*t6.*t9.*t12.*6.230758965393622e-3+g0.*t2.*t5.*t11.*t12.*4.883521085127657e-4+g0.*t2.*t6.*t9.*t13.*4.883521085127657e-4-g0.*t3.*t7.*t8.*t12.*6.230758965393622e-3-g0.*t2.*t5.*t11.*t13.*6.230758965393622e-3-g0.*t3.*t7.*t8.*t13.*4.883521085127657e-4-g0.*t3.*t4.*t5.*t9.*t12.*6.230758965393622e-3-g0.*t3.*t4.*t5.*t9.*t13.*4.883521085127657e-4+g0.*t3.*t4.*t6.*t11.*t12.*4.883521085127657e-4-g0.*t3.*t4.*t6.*t11.*t13.*6.230758965393622e-3+g0.*t2.*t6.*t8.*t10.*t12.*4.883521085127657e-4-g0.*t2.*t6.*t8.*t10.*t13.*6.230758965393622e-3+g0.*t3.*t7.*t9.*t10.*t12.*4.883521085127657e-4-g0.*t3.*t7.*t9.*t10.*t13.*6.230758965393622e-3-g0.*t3.*t4.*t5.*t8.*t10.*t12.*4.883521085127657e-4+g0.*t3.*t4.*t5.*t8.*t10.*t13.*6.230758965393622e-3];
